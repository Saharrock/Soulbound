<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Soulbound.Views.RegistrationPage"
             Title="RegistrationPage"
             BackgroundColor="#d1743b">

    <Grid Padding="30" BackgroundColor="#d1743b">
        <!-- Кнопка Log In в правом верхнем углу -->
        <Button
        Text="Log In"
        Command="{Binding GoToLoginCommand}"
        WidthRequest="100"
        HeightRequest="40"
        BackgroundColor="#853c0f"
        TextColor="White"
        FontAttributes="Bold"
        CornerRadius="8"
        HorizontalOptions="End"
        VerticalOptions="Start"
        Margin="0,10,10,0" />

        <!-- Основное содержимое по центру -->
        <VerticalStackLayout
        VerticalOptions="CenterAndExpand"
        HorizontalOptions="Center"
        Spacing="25">

            <!-- Заголовок -->
            <Label
            Text="REGISTRATION"
            FontSize="28"
            FontAttributes="Bold"
            TextColor="#853c0f"
            HorizontalOptions="Center"
            HorizontalTextAlignment="Center" />

            <!-- Сообщение пользователю -->
            <Label
            Text="{Binding MessageForUser}"
            HorizontalOptions="Center"
            HorizontalTextAlignment="Center"
            FontSize="20"
            TextColor="#853c0f" />

            <!-- ЕДИНЫЙ БЛОК ДЛЯ ВСЕХ ПОЛЕЙ -->
            <Frame
            BackgroundColor="#ad5621"
            CornerRadius="15"
            Padding="20"
            WidthRequest="450"
            HasShadow="False"
            BorderColor="#964818">

                <VerticalStackLayout Spacing="20">

                    <!-- Username -->
                    <VerticalStackLayout Spacing="5">
                        <Label
                        Text="Username:"
                        FontAttributes="Bold"
                        FontSize="16"
                        TextColor="#853c0f"
                        HorizontalOptions="Start" />
                        <HorizontalStackLayout HorizontalOptions="Center">
                            <Entry
                            Text="{Binding Username}"
                            Placeholder="Enter your username..."
                            WidthRequest="300"
                            HorizontalOptions="Center" />
                            <Button
                            Text="✖"
                            Command="{Binding ResetUsernameCommand}"
                            FontSize="12"
                            WidthRequest="30"
                            HeightRequest="30"
                            BackgroundColor="#d6b79d"
                            TextColor="#853c0f"
                            CornerRadius="15"
                            Margin="5,0,0,0" />
                        </HorizontalStackLayout>
                        <Label
                        Text="{Binding FieldMessages[Username]}"
                        TextColor="Red"
                        FontSize="13"
                        HorizontalOptions="Start" />
                    </VerticalStackLayout>

                    <!-- Email -->
                    <VerticalStackLayout Spacing="5">
                        <Label
                        Text="Email:"
                        FontAttributes="Bold"
                        FontSize="16"
                        TextColor="#853c0f"
                        HorizontalOptions="Start" />
                        <HorizontalStackLayout HorizontalOptions="Center">
                            <Entry
                            Text="{Binding Email}"
                            Placeholder="Enter your email..."
                            WidthRequest="300"
                            HorizontalOptions="Center" />
                            <Button
                            Text="✖"
                            Command="{Binding ResetEmailCommand}"
                            FontSize="12"
                            WidthRequest="30"
                            HeightRequest="30"
                            BackgroundColor="#d6b79d"
                            TextColor="#853c0f"
                            CornerRadius="15"
                            Margin="5,0,0,0" />
                        </HorizontalStackLayout>
                        <Label
                        Text="{Binding FieldMessages[Email]}"
                        TextColor="Red"
                        FontSize="13"
                        HorizontalOptions="Start" />
                    </VerticalStackLayout>

                    <!-- Password -->
                    <VerticalStackLayout Spacing="5">
                        <Label
                        Text="Password:"
                        FontAttributes="Bold"
                        FontSize="16"
                        TextColor="#853c0f"
                        HorizontalOptions="Start" />
                        <HorizontalStackLayout HorizontalOptions="Center">
                            <Entry
                            Text="{Binding Password}"
                            Placeholder="Enter your password..."
                            IsPassword="True"
                            WidthRequest="300"
                            HorizontalOptions="Center" />
                            <Button
                            Text="✖"
                            Command="{Binding ResetPasswordCommand}"
                            FontSize="12"
                            WidthRequest="30"
                            HeightRequest="30"
                            BackgroundColor="#d6b79d"
                            TextColor="#853c0f"
                            CornerRadius="15"
                            Margin="5,0,0,0" />
                        </HorizontalStackLayout>
                        <Label
                        Text="{Binding FieldMessages[Password]}"
                        TextColor="Red"
                        FontSize="13"
                        HorizontalOptions="Start" />
                    </VerticalStackLayout>

                    <!-- Confirm Password -->
                    <VerticalStackLayout Spacing="5">
                        <Label
                        Text="Confirm Password:"
                        FontAttributes="Bold"
                        FontSize="16"
                        TextColor="#853c0f"
                        HorizontalOptions="Start" />
                        <HorizontalStackLayout HorizontalOptions="Center">
                            <Entry
                            Text="{Binding ConfirmPassword}"
                            Placeholder="Repeat your password..."
                            IsPassword="True"
                            WidthRequest="300"
                            HorizontalOptions="Center" />
                            <Button
                            Text="✖"
                            Command="{Binding ResetConfirmPasswordCommand}"
                            FontSize="12"
                            WidthRequest="30"
                            HeightRequest="30"
                            BackgroundColor="#d6b79d"
                            TextColor="#853c0f"
                            CornerRadius="15"
                            Margin="5,0,0,0" />
                        </HorizontalStackLayout>
                        <Label
                        Text="{Binding FieldMessages[ConfirmPassword]}"
                        TextColor="Red"
                        FontSize="13"
                        HorizontalOptions="Start" />
                    </VerticalStackLayout>

                </VerticalStackLayout>
            </Frame>

            <!-- Кнопка регистрации -->
            <Button
            Text="Register"
            WidthRequest="150"
            HeightRequest="50"
            BackgroundColor="#a35424"
            TextColor="White"
            FontAttributes="Bold"
            CornerRadius="10"
            Command="{Binding RegisterCommand}" />
        </VerticalStackLayout>
    </Grid>

</ContentPage>